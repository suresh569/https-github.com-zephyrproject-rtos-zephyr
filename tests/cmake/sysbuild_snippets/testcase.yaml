common:
  sysbuild: true
  tags: sysbuild_snippets sysbuild
  platform_allow:
  - native_sim
  integration_platforms:
  - native_sim

tests:
  # Test the initial state with no snippets applied
  buildsystem.sysbuild.snippets.none:
    extra_args:
    - TEST_VALUE=0
  # Test the `foo` snippet in sysbuild
  buildsystem.sysbuild.snippets.applied:
    extra_args:
    - sysbuild_SNIPPET=foo
    - TEST_VALUE=464372
